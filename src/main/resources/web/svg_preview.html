<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        body { background-color: #525659; margin: 0; padding: 30px 0; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .page-wrapper { background: white; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        svg { display: block; width: 100%; height: 100%; }
    </style>
</head>
<body>
<div id="pages-container"></div>
<script>
    window.updateSvgPages = function(jsonString) {
        const updates = JSON.parse(jsonString);
        if (!updates || updates.length === 0) return;

        const container = document.getElementById('pages-container');
        if (!container) return;

        const totalPages = updates[0].totalPages;

        // 调整页数
        while (container.children.length < totalPages) {
            let div = document.createElement('div');
            div.className = 'page-wrapper';
            div.id = 'page-' + container.children.length;
            container.appendChild(div);
        }
        while (container.children.length > totalPages) {
            container.removeChild(container.lastChild);
        }

        // 更新内容
        updates.forEach(u => {
            const pageDiv = document.getElementById('page-' + u.pageIndex);
            if (pageDiv) {
                // 设置真实物理尺寸 (pt)
                pageDiv.style.width = u.widthPt + 'pt';
                pageDiv.style.height = u.heightPt + 'pt';
                pageDiv.innerHTML = u.svgContent;
            }
        });
    };
</script>
</body>
</html>