:root {
    --el-color-primary: #409eff;
    --el-color-primary-pressed: rgb(51, 126, 204);
    --el-color-plain-primary-bg: rgb(236, 245, 255);
    --el-color-plain-primary-bg-hover: rgb(221, 238, 255);
    --el-color-plain-primary-border: rgb(160, 207, 255);

    --el-color-important: #f56c6c;
    --el-color-important-pressed: rgb(196, 86, 86);
    --el-color-plain-important-bg: rgb(254, 240, 240);
    --el-color-plain-important-bg-hover: rgb(253, 230, 230);
    --el-color-plain-important-border: rgb(250, 182, 182);

    --el-color-info: #909399;
    --el-color-default-text: #606266;

    --el-color-default-bg: white;
    --el-color-default-active-bg: var(--el-color-plain-primary-bg);
    --el-color-default-border: #dcdfe6;
    --el-color-default-pressed-border: var(--el-color-plain-primary-border);
    --el-color-default-active-text: var(--el-color-primary);
    --el-color-primary-shadow: rgba(64, 158, 255, 0.2);

    --el-color-textbtn-hover-bg: #f5f7fa;
    --el-color-textbtn-active-bg: #f0f2f5;
    
    --my-color-divding-line: #dfdfdf;
}

body {
    /*background-color: #525659; !* PDF 阅读器经典深灰背景 *!*/
    background-color: #e3e4ea;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    overflow: hidden; /* 禁用 Body 滚动，完全交给 Viewport */
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    
    /* Global: Disable text selection for app-like feel */
    user-select: none;
    -webkit-user-select: none;
}

/* Allow text selection in editable fields */
input, textarea, [contenteditable="true"] {
    user-select: text;
    -webkit-user-select: text;
}

/* --- Common Controls Styles (Ported from JavaFX) --- */

/* Input/Select */
.input {
    background-color: white;
    border: 1px solid #d9d9d9;
    border-radius: 4px;
    color: #333333;
    padding: 6px 11px; 
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
    width: 100%;
    box-sizing: border-box;
}

.input:hover {
    border-color: var(--el-color-primary);
}

.input:focus {
    border-color: var(--el-color-primary);
    box-shadow: 0 0 0 2px var(--el-color-primary-shadow);
}

/* Button Base */
.my-button {
    height: 32px; 
    font-size: 12px;
    border-radius: 4px;
    font-weight: 500;
    cursor: pointer;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    white-space: nowrap;
    border: 1px solid transparent;
    padding: 0 15px;
    box-sizing: border-box;
    user-select: none;
    
    /* For Ripple Effect */
    position: relative;
    overflow: hidden;
    
    /* Transitions for hover effects */
    transition: background-color 0.2s, border-color 0.2s;
}

/* Ripple Effect Base & Animation */
.ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    animation: ripple-animation 600ms linear;
}

.ripple.dark {
    background-color: rgba(0, 0, 0, 0.1);
}

.ripple.light {
    background-color: rgba(255, 255, 255, 0.4);
}

@keyframes ripple-animation {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* Primary Plain Button */
.plain-button-primary {
    background-color: var(--el-color-plain-primary-bg);
    color: var(--el-color-primary);
    border-color: var(--el-color-plain-primary-border);
}

.plain-button-primary:hover {
    background-color: var(--el-color-plain-primary-bg-hover);
}

/* Important Plain Button */
.plain-button-important {
    background-color: var(--el-color-plain-important-bg);
    color: var(--el-color-important);
    border-color: var(--el-color-plain-important-border);
}

.plain-button-important:hover {
    background-color: var(--el-color-plain-important-bg-hover);
}


/* Graph/Icon Button */
.graph-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 6px;
    border-radius: 4px;
    transition: background-color 0.2s;
}
.graph-button img, .graph-button svg {
    width: 16px;
    height: 16px;
    display: block;
    opacity: 0.8;
}
.graph-button:hover {
    background-color: rgba(0,0,0,0.05);
}
.graph-button:hover img {
    opacity: 1;
}
.graph-button-important:hover {
    background-color: var(--el-color-plain-important-bg);
}

/* Title */
.title {
    font-size: 12px;
    font-weight: bold;
    color: #9198a1;
    margin-bottom: 10px;
    display: block;
}


/* Scrollbar styling */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    border: 2px solid transparent; 
    background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.5);
}
::-webkit-scrollbar-corner {
    background: transparent;
}


/* --- 4. 视口与内容 (虚拟渲染核心 CSS) --- */
#viewport {
    width: 100%;
    height: 100%;
    overflow: auto; /* 滚动条在这里产生 */
    display: block;
    text-align: center; /* 让内部的 inline-block 容器居中 */
    will-change: scroll-position; /* 提示浏览器优化滚动性能 */
}

#pages-container {
    display: inline-block; /* 紧贴内容宽度，配合 text-align center */
    padding: 40px 0 100px 0; /* 上下留白 */
    /* 注意：这里移除了 transition，因为 zoom 属性通常不通过 transition 动画 */

    /* 使用 CSS 变量或 JS 控制 zoom */
    transform-origin: top center;
}

.page-wrapper {
    background: white;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4); /* 立体阴影 */
    margin-bottom: 20px; /* 页间距 */
    /* 默认尺寸，会被 JS 动态覆盖 */
    width: 595pt;
    height: 842pt;
    display: flex; /* 消除图片底部间隙 */

    /* 【性能关键】CSS 隔离 */
    /* 告诉浏览器：这个元素的内部布局与外部无关 */
    /* 当我们频繁操作 innerHTML 时，这能防止全局重排 (Reflow) */
    contain: content;

    /*开启层级合成 (Layer Compositing)*/
    transform: translate3d(0, 0, 0);
    will-change: transform;
    /* 相对定位，为了让内部图片绝对定位重叠 */
    position: relative;
    overflow: hidden;
}

/* 图片样式 */
.page-wrapper svg {
    display: block;
    width: 100%;
    height: 100%;
    pointer-events: auto; /* 只有可见时才响应鼠标 */

    /* 1. 形状渲染：优化速度 */
    /* 默认是 geometricPrecision (精度优先)，改为 optimizeSpeed 可能有锯齿，但滚动更快 */
    /* 建议：平时用 auto，如果滚动极卡，可以尝试改为 optimizeSpeed */
    shape-rendering: auto;

    /* 2. 文本渲染：我们之前设为了 geometricPrecision 以保位置准确 */
    /* 千万别改这个，改了会导致文字错位 */
    text-rendering: geometricPrecision;

    /* 3. 显卡加速提示 */
    /* 告诉浏览器这个 SVG 不需要复杂的合成运算 */
    mix-blend-mode: normal;

    /*svg的动画渐入由于是操作dom，而我们操作的又是整页，所以会出现白屏闪烁，因此就不用加渐入动画*/
}



/* For PDF page rendering, images are absolutely positioned inside their wrapper */
.page-wrapper img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: contain;
    position: absolute;
    top: 0;
    left: 0;

    /* 【修正】移除过时的私有属性 */
    /* 现代 WebKit 默认的缩放算法 (auto) 对于 High-DPI 图片缩小显示效果最佳 */
    /* 它会自动进行平滑插值，达到 Retina 屏幕般的清晰度 */
    image-rendering: auto;
    /* 或者显式指定高质量 (虽然 auto 通常就是这个效果) */
    /*image-rendering: high-quality;*/
}

/* --- 拖拽时的全局保护层 --- */
/* 当 SplitPane 正在调整大小时，禁用页面上所有元素的交互 */
/* 这防止了 iframe (编辑器) 吞噬鼠标事件，也防止了意外选中文字 */
body.is-resizing {
    cursor: col-resize !important;
}

body.is-resizing * {
    pointer-events: none !important;
    user-select: none !important;
}